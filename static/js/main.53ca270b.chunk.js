(this.webpackJsonpnotebook=this.webpackJsonpnotebook||[]).push([[0],{209:function(e,t,a){e.exports=a(401)},399:function(e,t,a){},401:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(81),l=a.n(r),o=a(6),i=a(8),s=a(24),m=a(41),d={note_to_edit:{}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"EDIT_NOTE":return n;default:return e}},E=Object(s.c)({note:u,firebase:i.firebaseReducer,firestore:m.firestoreReducer}),v=a(208),f=a(55),N=a.n(f);a(396);N.a.initializeApp({apiKey:"AIzaSyAzVEVeoV_HIvLaDRlQKKJzEvNC9BvoDyc",authDomain:"e-commerce-6d766.firebaseapp.com",databaseURL:"https://e-commerce-6d766.firebaseio.com",projectId:"e-commerce-6d766",storageBucket:"e-commerce-6d766.appspot.com",messagingSenderId:"716783921553",appId:"1:716783921553:web:e43eeafa6f4b7e2470d230",measurementId:"G-5KQL6X04FF"});var b=N.a,h=Object(s.e)(E,Object(s.d)(Object(s.a)(v.a.withExtraArgument({getFirebase:i.getFirebase,getFirestore:m.getFirestore})),Object(m.reduxFirestore)(b))),p={firebase:N.a,config:b,dispatch:h.dispatch,createFirestoreInstance:m.createFirestoreInstance},g=(a(399),a(14)),y=a(3),O=function(){return c.a.createElement("nav",{className:"blue-grey darken-4"},c.a.createElement("div",{className:"nav-wrapper"},c.a.createElement(g.c,{to:"/",className:"brand-logo"},"Notebook"),c.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-down"},c.a.createElement("li",null,c.a.createElement(g.d,{to:"/favorites"},"Favorites")))))},j=a(20),w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=Object(n.useState)(e),a=Object(j.a)(t,2),c=a[0],r=a[1],l=function(){return r(e)},o={value:c,onChange:function(e){return r(e.target.value)}};return[c,o,l]},x=a(132),F=function(){var e=w(),t=Object(j.a)(e,3),a=t[0],n=t[1],r=t[2],l=w(),i=Object(j.a)(l,3),s=i[0],m=i[1],d=i[2],u=Object(o.b)();return c.a.createElement("div",null,c.a.createElement("div",{className:"section"},c.a.createElement("form",{onSubmit:function(e){var t;e.preventDefault(),u((t={title:a,content:s},function(e,a,n){(0,n.getFirestore)().collection("notes").add(Object(x.a)(Object(x.a)({},t),{},{favorite:!1,createdAt:new Date})).then((function(){return console.log("add the note successfully")})).catch((function(e){return console.log(e)}))})),r(),d()},className:"white"},c.a.createElement("h5",{className:"grey-text text-darken-3"},"New Note"),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",Object.assign({id:"note_title",type:"text",required:!0,className:"validate"},n)),c.a.createElement("label",{htmlFor:"note_title",className:"active"},"Note Title")),c.a.createElement("div",{className:"input-field"},c.a.createElement("textarea",Object.assign({id:"note_content",rows:"4",required:!0,className:"materialize-textarea"},m)),c.a.createElement("label",{htmlFor:"note_content"},"Note Content")),c.a.createElement("button",{className:"btn green"},"Add",c.a.createElement("i",{className:"material-icons right"},"add")))))},k=a(83),C=a.n(k),_=function(e){var t=e.handleClose,a=e.show,n=e.handleDelete,r=e.children,l=a?"modal display-block":"modal display-none";return c.a.createElement("div",{className:l},c.a.createElement("section",{className:"modal-main"},r,c.a.createElement("button",{className:"btn waves-effect waves-light red",onClick:n},"Delete"),c.a.createElement("button",{className:"btn waves-effect waves-light grey",onClick:t},"Close")))},D=function(e){var t=e.note,a=Object(n.useState)(!1),r=Object(j.a)(a,2),l=r[0],i=r[1],s=Object(o.b)(),m=t.favorite?"favorite":"favorite_border";return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-content"},c.a.createElement("div",{className:"right-align"},c.a.createElement("i",{className:"material-icons red-text",style:{cursor:"pointer"},onClick:function(){s(function(e){return function(t,a,n){var c=n.getFirestore,r=!e.favorite;c().collection("notes").doc(e.id).update({favorite:r}).then((function(){return console.log("add the note favorite successfully")})).catch((function(e){return console.log(e)}))}}(t))}},m)),c.a.createElement(g.c,{to:"/note/".concat(t.id)},c.a.createElement("h5",{className:"black-text"},t.title)),c.a.createElement("p",null,t.content)),c.a.createElement("div",{className:"card-action"},c.a.createElement("div",{className:"row action"},c.a.createElement("div",{className:"col s4 left-align"},c.a.createElement("span",{className:"gey-text"},C()(t.createdAt.toDate()).fromNow())),c.a.createElement("div",{className:"col s8 right-align"},c.a.createElement(g.c,{to:"/edit/".concat(t.id)},c.a.createElement("i",{className:"material-icons black-text",onClick:function(){s({type:"EDIT_NOTE",payload:t})}},"edit")),c.a.createElement("i",{className:"material-icons",style:{cursor:"pointer"},onClick:function(){i(!0)}},"delete")))),c.a.createElement(_,{show:l,handleClose:function(){i(!1)},handleDelete:function(){s(function(e){return function(t,a,n){(0,n.getFirestore)().collection("notes").doc(e.id).delete().then((function(){return console.log("delete the note successfully")})).catch((function(e){return console.log(e)}))}}(t))}},c.a.createElement("h4",null,"Eliminar Nota"),c.a.createElement("p",{className:"modal-message"},"Esta seguro que desea eliminar la nota ",t.title,"?")))},A=function(e){var t=e.notes;return c.a.createElement("div",{className:"notes-list"},t&&t.map((function(e){return c.a.createElement(D,{note:e,key:e.id})})))};var I=function(){Object(i.useFirestoreConnect)({collection:"notes",orderBy:["createdAt","desc"]});var e=Object(o.c)((function(e){return e.firestore.ordered.notes}));return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row center-align"},c.a.createElement("div",{className:"col s12 m12 l12 xl7"},c.a.createElement(F,null)),c.a.createElement("div",{className:"col s12 m12 l12 xl5"},c.a.createElement(A,{notes:e}))))},z=function(){var e=Object(o.c)((function(e){return e.note})),t=Object(y.e)();void 0==e.title&&t.push("/");var a=w(e.title),n=Object(j.a)(a,3),r=n[0],l=n[1],i=n[2],s=w(e.content),m=Object(j.a)(s,3),d=m[0],u=m[1],E=m[2],v=Object(o.b)();return c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"section"},c.a.createElement("form",{onSubmit:function(a){a.preventDefault(),v(function(e){return function(t,a,n){(0,n.getFirestore)().collection("notes").doc(e.id).update({title:e.title,content:e.content}).then((function(){return console.log("update the note successfully")})).catch((function(e){return console.log(e)}))}}({id:e.id,title:r,content:d})),E(),i(),t.push("/")},className:"white"},c.a.createElement("h5",{className:"grey-text text-darken-3"},"Update Note"),c.a.createElement("div",{className:"input-field"},c.a.createElement("input",Object.assign({id:"note_title",type:"text",required:!0,className:"validate"},l)),c.a.createElement("label",{className:"active",htmlFor:"note_title"},"Note Title")),c.a.createElement("div",{className:"input-field"},c.a.createElement("textarea",Object.assign({id:"note_content",required:!0,className:"materialize-textarea"},u)),c.a.createElement("label",{className:"active",htmlFor:"note_content"},"Note Content")),c.a.createElement("div",{className:"right-align"},c.a.createElement("button",{className:"btn waves-effect waves-light green"},"Update",c.a.createElement("i",{class:"material-icons right"},"save")),c.a.createElement(g.c,{to:"/",className:"btn waves-effect waves-light grey"},"Cancel",c.a.createElement("i",{class:"material-icons right"},"cancel"))))))};var S=function(e){var t=e.match.params.id;Object(i.useFirestoreConnect)([{collection:"notes",doc:t}]);var a=Object(o.c)((function(e){var a=e.firestore.data;return a.notes&&a.notes[t]}));return Object(i.isLoaded)(a)?Object(i.isEmpty)(a)?c.a.createElement("div",{className:"container section"},c.a.createElement("div",{className:"card detail z-depth-0"},c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},"The note content is empty")),c.a.createElement("div",{className:"card-action grey lighten-4 grey-text"}))):c.a.createElement("div",{className:"container section"},c.a.createElement("div",{className:"card detail z-depth-0"},c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},a.title),c.a.createElement("p",null,a.content)),c.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},c.a.createElement("div",null,C()(a.createdAt.toDate()).calendar())))):c.a.createElement("div",{className:"container section"},c.a.createElement("div",{className:"card detail z-depth-0"},c.a.createElement("div",{className:"card-content"},c.a.createElement("span",{className:"card-title"},"Loading...")),c.a.createElement("div",{className:"card-action grey lighten-4 grey-text"})))},T=function(){Object(i.useFirestoreConnect)([{collection:"notes",where:["favorite","==",!0],orderBy:["createdAt","desc"],storeAs:"favnotes"}]);var e=Object(o.c)((function(e){return e.firestore.ordered.favnotes}));return c.a.createElement("div",{className:"container"},c.a.createElement(A,{notes:e}))};var R=function(){return c.a.createElement(g.a,null,c.a.createElement(g.b,null,c.a.createElement(O,null),c.a.createElement(y.a,{exact:!0,path:"/",component:I}),c.a.createElement(y.a,{path:"/edit/:id",component:z}),c.a.createElement(y.a,{path:"/note/:id",component:S}),c.a.createElement(y.a,{path:"/favorites",component:T})))};l.a.render(c.a.createElement(o.a,{store:h},c.a.createElement(i.ReactReduxFirebaseProvider,p,c.a.createElement(c.a.StrictMode,null,c.a.createElement(R,null)))),document.getElementById("root"))}},[[209,1,2]]]);
//# sourceMappingURL=main.53ca270b.chunk.js.map